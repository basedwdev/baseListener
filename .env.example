# ─── RPC Providers ────────────────────────────────────────────────────────────
# Comma-separated list of Base chain RPC URLs (all live ones are used together
# via FallbackProvider for automatic failover)
RPC_PROVIDERS=https://base-rpc.publicnode.com,https://mainnet.base.org

# ─── Redis ────────────────────────────────────────────────────────────────────
# Connection URL for your Redis instance
REDIS_URL=redis://127.0.0.1:6379

# ─── Redis Channel Names ──────────────────────────────────────────────────────
# Inbound: token add/remove commands arrive here
REDIS_CHANNEL_TOKEN_ACTIONS=token-actions

# Outbound: confirmed buy events published here
REDIS_CHANNEL_BUYS=swap-buys

# Outbound: info messages (token added/removed confirmations, stale-pair alerts)
REDIS_CHANNEL_INFO=swap-info

# Outbound: error messages (receipt/balanceOf failures, unexpected handler errors)
REDIS_CHANNEL_ERRORS=swap-errors

# ─── Timing ───────────────────────────────────────────────────────────────────
# How often (ms) the lastBoughtAt timestamp is written to DB per pair (default: 3 hours)
DB_WRITE_THROTTLE_MS=10800000

# How old (ms) a pair's lastBoughtAt must be before it is flagged as stale (default: 3 days)
STALE_PAIR_THRESHOLD_MS=259200000

# How often (ms) the stale-pair scanner runs (default: 6 hours)
STALE_PAIR_SCAN_INTERVAL_MS=21600000

# ─── Swap Filtering ───────────────────────────────────────────────────────────
# Minimum token amount received (human-readable) to consider a swap a valid buy.
# Buys below this threshold are silently dropped. (default: 0.01)
MIN_AMOUNT_RECEIVED=0.01

# ─── Database ─────────────────────────────────────────────────────────────────
# Path to the SQLite database file
DB_PATH=./data/swap-bot.db

# ─── Logging ──────────────────────────────────────────────────────────────────
# Log level: error | warn | info | debug
LOG_LEVEL=info

# Directory where rotating log files are written
LOG_DIR=./logs
